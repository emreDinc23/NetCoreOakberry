@model List<Testimonial>
@functions {
    public string ShortenText(string text, int maxLength)
    {
        if (text.Length > maxLength)
        {
            return text.Substring(0, maxLength) + "...";
        }
        return text;
    }
}

<section class="ftco-section testimony-section bg-light">
    <div class="container-xl">
        <div class="row justify-content-center pb-4">
            <div class="col-md-7 text-center heading-section" data-aos="fade-up" data-aos-duration="1000">
                <span class="subheading">Testimonial</span>
                <h2 class="mb-3">Clients We Help</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="100">
                <div class="carousel-testimony">
                    @foreach (var x in Model)
                    {
                        <div class="item">
                            <div class="testimony-wrap">
                                <div class="icon d-flex align-items-center justify-content-center"><span class="fa fa-quote-left"></span></div>
                                <div class="text">
                                    <p class="mb-4 msg">@ShortenText(x.Client, 100)</p>
                                    <div class="d-flex align-items-center">
                                        <div class="user-img" style="background-image:url(@x.ImageUrl)"></div>
                                        <div class="pl-3 tx">
                                            <p class="name">@x.Name</p>
                                            <span class="position">@x.Job</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                   

                </div>
            </div>
        </div>
    </div>
</section>
